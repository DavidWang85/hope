{"version":3,"file":"js/952.1aaea9b1.js","mappings":"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","sources":["webpack://hope/./src/views/Front/CollectView.vue","webpack://hope/./src/views/Front/CollectView.vue?1f74"],"sourcesContent":["<template>\n  <LoadingPlugin :active=\"isLoading\" :is-full-page=\"fullPage\" :z-index=\"1060\">\n    <div class=\"loadingio-spinner-dual-ball-eq2qwqnc1x\">\n      <div class=\"ldio-tw1s1a7kdy9\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </LoadingPlugin>\n  <div class=\"pages-banner\">\n    <img\n      src=\"https://images.unsplash.com/photo-1508963493744-76fce69379c0?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770\"\n      alt=\"\"\n    />\n    <h2 class=\"pages-banner-title\">收藏清單</h2>\n  </div>\n  <div class=\"frontcart-progress-list container\">\n    <div class=\"mt-5\">\n      <div\n        class=\"frontcart-progress-title d-flex justify-content-center align-items-center\"\n      >\n        <h3 class=\"frontcart-progress-title-fir\">收藏清單</h3>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div v-if=\"this.collectsList.length\">\n      <div class=\"mt-4\">\n        <!-- 收藏列表 -->\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th>圖片</th>\n              <th>商品名稱</th>\n              <th>價格</th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in collectsList\" :key=\"item.id\">\n              <td style=\"width: 200px\">\n                <div\n                  style=\"\n                    height: 100px;\n                    background-size: cover;\n                    background-position: center;\n                  \"\n                  :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                ></div>\n              </td>\n              <td>\n                <div>{{ item.title }}</div>\n              </td>\n              <td>\n                <div>NT{{ item.price }} / {{ item.unit }}</div>\n              </td>\n              <td>\n                <button\n                  @click=\"addToCart(item.id, item.title)\"\n                  class=\"btn btn-primary px-lg-2 m-0\"\n                  type=\"button\"\n                >\n                  加入購物車\n                </button>\n              </td>\n              <td>\n                <button\n                  class=\"btn btn-outline-success px-lg-2 m-0\"\n                  @click=\"removeCollect(item.id, item.title)\"\n                  type=\"btn\"\n                >\n                  <i class=\"bi bi-trash3-fill\"></i>移除收藏\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <div class=\"d-flex justify-content-center align-items-center mb-5\">\n          <img\n            class=\"rounded-circle\"\n            src=\"https://images.unsplash.com/photo-1518644730709-0835105d9daa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80\"\n            alt=\"\"\n            style=\"width: 250px; height: 250px\"\n          />\n          <p class=\"ms-4\">你還沒有收藏喜歡的服務，趕快到服務列表收藏吧！</p>\n        </div>\n        <div>\n          <router-link class=\"btn btn-outline-primary me-3\" to=\"/products\">\n            回到服務列表\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <!-- 轉換頁面 -->\n    <div v-if=\"this.collectsList.length\" class=\"d-flex justify-content-between\">\n      <div class=\"text-start\">\n        <router-link class=\"btn btn-outline-primary me-3\" to=\"/products\">\n          回到服務列表\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport alert from \"@/methods/mixins/alert\";\nimport emitter from \"@/methods/emitter\";\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      fullPage: true,\n      isLoadingLocal: false,\n      isLoadingItem: \"\",\n      products: [],\n      cartData: {\n        carts: [],\n      },\n      collect: JSON.parse(localStorage.getItem(\"collect\")) || [],\n      collectsList: [],\n    };\n  },\n  mixins: [alert],\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(url).then((res) => {\n        this.products = res.data.products;\n        console.log(\"get\", res);\n        this.getCart();\n        this.getCollects();\n        this.isLoading = false;\n      });\n    },\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(url).then((res) => {\n        this.cartData = res.data.data;\n        emitter.emit(\"get-cart\");\n        this.isLoading = false;\n      });\n    },\n    addToCart(id, name, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.post(url, { data }).then((res) => {\n        console.log(\"購物車\", res);\n        this.getCart();\n        this.isLoadingItem = false;\n        this.alertAddToCart(name);\n      });\n    },\n    getCollects() {\n      this.collectsList = this.products.filter(\n        (item) => this.collect.indexOf(item.id) > -1\n      );\n    },\n    removeCollect(id, name) {\n      const collectId = this.collect.indexOf(id);\n      if (collectId !== -1) {\n        this.collect.splice(collectId, 1);\n        localStorage.setItem(\"collect\", JSON.stringify(this.collect));\n        this.getCollects();\n        this.alertRemoveCollect(name);\n      }\n    },\n    goCheckOut() {\n      this.$router.push(\"/checkout\");\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./CollectView.vue?vue&type=template&id=0084566c\"\nimport script from \"./CollectView.vue?vue&type=script&lang=js\"\nexport * from \"./CollectView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Vue-homework/hope/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","_hoisted_12","src","alt","_createVNode","_component_LoadingPlugin","active","$data","_hoisted_1","_hoisted_2","collectsList","length","_createElementBlock","_hoisted_5","_hoisted_8","_Fragment","_renderList","item","key","id","backgroundImage","imageUrl","_toDisplayString","title","price","unit","onClick","$options","type","_hoisted_10","_hoisted_15","_hoisted_17","_component_router_link","to","data","isLoading","fullPage","isLoadingLocal","isLoadingItem","products","cartData","carts","collect","JSON","parse","localStorage","getItem","mixins","alert","methods","getProducts","this","url","$http","get","then","res","console","log","getCart","getCollects","emitter","addToCart","name","qty","product_id","post","alertAddToCart","filter","indexOf","removeCollect","collectId","splice","setItem","stringify","alertRemoveCollect","goCheckOut","$router","push","mounted","__exports__","render"],"sourceRoot":""}