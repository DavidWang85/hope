"use strict";(self["webpackChunkhope"]=self["webpackChunkhope"]||[]).push([[987],{6987:function(t,e,a){a.r(e),a.d(e,{default:function(){return tt}});a(6699);var i=a(6252),s=a(3577),c=a(9963);const o=(0,i._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,i._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,i._)("div"),(0,i._)("div"),(0,i._)("div")])],-1),l=(0,i.uE)('<div class="pages-banner"><img src="https://images.unsplash.com/photo-1532329683184-6ffd13057d1c?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1775&amp;q=80" alt=""><h2 class="pages-banner-title">服務總覽</h2></div><div class="frontcart-progress-list container"><div class="mt-5"><div class="frontcart-progress-title d-flex justify-content-center align-items-center"><h3 class="frontcart-progress-title-fir">服務總覽</h3></div></div></div>',2),r={class:"container page-top"},n={class:"mt-4"},d={class:"row"},p={class:"col-3"},u={class:"products-category"},g={class:"col-9"},h={class:"row row-cols-1 row-cols-md-2"},v={class:"card shadow border-light border-0 mb-4 position-relative position-relative"},_={class:"card-zoom"},f=(0,i._)("div",{class:"card-zoom-text fs-4 border border-light p-2"}," 查看更多 ",-1),m={class:"card-body p-0"},k={class:"mt-3"},b={class:"card-title"},C={key:0},y=(0,i._)("i",{class:"bi bi-chat-square-heart-fill text-danger"},null,-1),x=[y],w={key:1},P=(0,i._)("i",{class:"bi bi-chat-square-heart-fill text-dark"},null,-1),A=[P],M={class:"card-text d-flex align-items-center"},$={class:"text-primary fs-4 me-2"},D={class:"text-muted fs-5 text-decoration-line-through"},S={class:"d-flex justify-content-between"},q=["onClick"],z=(0,i._)("i",{class:"bi bi-chat-square-heart"},null,-1),L=(0,i.Uk)("收藏 "),H=[z,L],T=["onClick"],j={class:"mt-4"};function N(t,e,a,y,P,z){const L=(0,i.up)("LoadingPlugin"),N=(0,i.up)("router-link"),G=(0,i.up)("PaginationCom");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(L,{active:P.isLoading,"is-full-page":P.fullPage,"z-index":1060},{default:(0,i.w5)((()=>[o])),_:1},8,["active","is-full-page"]),l,(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("div",d,[(0,i._)("div",p,[(0,i._)("ul",u,[(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link",{backgroundSuccess:"all"===P.categoryActive}]),href:"#",onClick:e[0]||(e[0]=(0,c.iM)((t=>z.getProducts("")),["prevent"]))},"全部服務",2)]),(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link",{backgroundSuccess:"家訪"===P.categoryActive}]),href:"#",onClick:e[1]||(e[1]=(0,c.iM)((t=>z.getProducts("","家訪")),["prevent"]))},"家訪",2)]),(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link",{backgroundSuccess:"視訊"===P.categoryActive}]),href:"#",onClick:e[2]||(e[2]=(0,c.iM)((t=>z.getProducts("","視訊")),["prevent"]))},"視訊",2)]),(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link",{backgroundSuccess:"日照"===P.categoryActive}]),href:"#",onClick:e[3]||(e[3]=(0,c.iM)((t=>z.getProducts("","日照")),["prevent"]))},"日照",2)]),(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link",{backgroundSuccess:"護理房型"===P.categoryActive}]),href:"#",onClick:e[4]||(e[4]=(0,c.iM)((t=>z.getProducts("","護理房型")),["prevent"]))},"護理房型",2)]),(0,i._)("li",null,[(0,i._)("a",{class:(0,s.C_)(["products-category-link products-category-link-bottom",{backgroundSuccess:"一般房型"===P.categoryActive}]),href:"#",onClick:e[5]||(e[5]=(0,c.iM)((t=>z.getProducts("","一般房型")),["prevent"]))},"一般房型",2)])])]),(0,i._)("div",g,[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:t.id},[(0,i._)("div",v,[(0,i.Wm)(N,{class:"card-link text-dark text-decoration-none",to:`/product/${t.id}`},{default:(0,i.w5)((()=>[(0,i._)("div",_,[(0,i._)("div",{style:(0,s.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"200px","background-size":"cover","background-position":"center center"}]),class:"rounded-3 card-zoom-img"},null,4),f]),(0,i._)("div",m,[(0,i._)("div",k,[(0,i._)("h4",b,[(0,i.Uk)((0,s.zw)(t.title)+" ",1),P.collect.includes(t.id)?((0,i.wg)(),(0,i.iD)("span",C,x)):((0,i.wg)(),(0,i.iD)("span",w,A))]),(0,i._)("div",M,[(0,i._)("p",$," NT$ "+(0,s.zw)(t.price),1),(0,i._)("p",D," NT$ "+(0,s.zw)(t.origin_price),1)])])])])),_:2},1032,["to"]),(0,i._)("div",S,[(0,i._)("button",{class:"btn btn-outline-success px-lg-4 m-0",onClick:e=>z.toggleCollect(t.id,t.title),type:"btn"},H,8,q),(0,i._)("button",{onClick:e=>z.addToCart(t.id,t.title),class:"btn btn-primary px-lg-4 m-0",type:"button"}," 加入購物車 ",8,T)])])])))),128))]),(0,i._)("div",j,[(0,i.Wm)(G,{pages:P.pagination,onGetProducts:z.getProducts},null,8,["pages","onGetProducts"])])])])])])],64)}const G={class:"d-flex justify-content-center"},I={class:"pagination"},W=(0,i._)("span",{"aria-hidden":"true"},"«",-1),Y=[W],Z=["onClick"],U=(0,i._)("span",{"aria-hidden":"true"},"»",-1),B=[U];function J(t,e,a,o,l,r){return(0,i.wg)(),(0,i.iD)("nav",G,[(0,i._)("ul",I,[(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,i._)("a",{class:"page-link",href:"#",onClick:e[0]||(e[0]=(0,c.iM)((e=>t.$emit("get-products",a.pages.current_page-1)),["prevent"])),"aria-label":"Previous"},Y)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,s.C_)(["page-item",{active:a.pages.current_page==e}]),key:e+"123"},[(0,i._)("a",{class:"page-link",href:"#",onClick:(0,c.iM)((a=>t.$emit("get-products",e)),["prevent"])},(0,s.zw)(e),9,Z)],2)))),128)),(0,i._)("li",{class:(0,s.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,i._)("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=(0,c.iM)((e=>t.$emit("get-products",a.pages.current_page+1)),["prevent"])),"aria-label":"Next"},B)],2)])])}var K={props:["pages"],data(){return{}}},O=a(3744);const E=(0,O.Z)(K,[["render",J]]);var R=E,V=a(1608),F=a(5679),Q={components:{PaginationCom:R},data(){return{products:[],pagination:{},isLoading:!1,fullPage:!0,user:{product_id:"",qrt:""},collect:JSON.parse(localStorage.getItem("collect"))||[],categoryActive:""}},mixins:[V.Z],methods:{getProducts(t=1,e){this.isLoading=!0;let a=`https://vue3-course-api.hexschool.io/v2/api/david-frontend/products/?page=${t}`;e?(a=`https://vue3-course-api.hexschool.io/v2/api/david-frontend/products/?category=${e}`,this.categoryActive=e):this.categoryActive="all",this.$http.get(a).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1}))},getCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.get(t).then((t=>{this.cartData=t.data.data,F.Z.emit("get-cart"),this.isLoading=!1}))},addToCart(t,e,a=1){const i={product_id:t,qty:a},s="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.post(s,{data:i}).then((t=>{console.log("購物車",t),this.getCart(),this.alertAddToCart(e),this.isLoading=!1}))},toggleCollect(t,e){const a=this.collect.findIndex((e=>e===t));-1===a?(this.collect.push(t),this.alertAddToCollect(e)):(this.collect.splice(a,1),this.alertRemoveCollect(e))}},watch:{collect:{handler(){localStorage.setItem("collect",JSON.stringify(this.collect))},deep:!0}},mounted(){this.getProducts()}};const X=(0,O.Z)(Q,[["render",N]]);var tt=X}}]);
//# sourceMappingURL=987.6d4a305c.js.map