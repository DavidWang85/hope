"use strict";(self["webpackChunkhope"]=self["webpackChunkhope"]||[]).push([[952],{8952:function(t,i,e){e.r(i),e.d(i,{default:function(){return z}});var l=e(6252),s=e(3577);const a=(0,l._)("div",{class:"loadingio-spinner-dual-ball-eq2qwqnc1x"},[(0,l._)("div",{class:"ldio-tw1s1a7kdy9"},[(0,l._)("div"),(0,l._)("div"),(0,l._)("div")])],-1),o=(0,l.uE)('<div class="pages-banner"><img src="https://images.unsplash.com/photo-1508963493744-76fce69379c0?crop=entropy&amp;cs=tinysrgb&amp;fm=jpg&amp;ixlib=rb-1.2.1&amp;q=80&amp;raw_url=true&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1770" alt=""><h2 class="pages-banner-title">收藏清單</h2></div><div class="frontcart-progress-list container"><div class="mt-5"><div class="frontcart-progress-title d-flex justify-content-center align-items-center"><h3 class="frontcart-progress-title-fir">收藏清單</h3></div></div></div>',2),c={class:"container"},n={key:0},r={class:"mt-4"},d={class:"table align-middle"},u=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"圖片"),(0,l._)("th",null,"商品名稱"),(0,l._)("th",null,"價格"),(0,l._)("th"),(0,l._)("th")])],-1),h={style:{width:"200px"}},p=["onClick"],g=["onClick"],m=(0,l._)("i",{class:"bi bi-trash3-fill"},null,-1),f=(0,l.Uk)("移除收藏 "),v=[m,f],_={key:1},b={class:"text-center"},x=(0,l._)("div",{class:"d-flex justify-content-center align-items-center mb-5"},[(0,l._)("img",{class:"rounded-circle",src:"https://images.unsplash.com/photo-1518644730709-0835105d9daa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80",alt:"",style:{width:"250px",height:"250px"}}),(0,l._)("p",{class:"ms-4"},"你還沒有收藏喜歡的服務，趕快到服務列表收藏吧！")],-1),w=(0,l.Uk)(" 回到服務列表 "),k={key:2,class:"d-flex justify-content-between"},y={class:"text-start"},C=(0,l.Uk)(" 回到服務列表 ");function L(t,i,e,m,f,L){const D=(0,l.up)("LoadingPlugin"),H=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(D,{active:f.isLoading,"is-full-page":f.fullPage,"z-index":1060},{default:(0,l.w5)((()=>[a])),_:1},8,["active","is-full-page"]),o,(0,l._)("div",c,[this.collectsList.length?((0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",r,[(0,l._)("table",d,[u,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.collectsList,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",h,[(0,l._)("div",{style:(0,s.j5)([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),(0,l._)("td",null,[(0,l._)("div",null,(0,s.zw)(t.title),1)]),(0,l._)("td",null,[(0,l._)("div",null,"NT"+(0,s.zw)(t.price)+" / "+(0,s.zw)(t.unit),1)]),(0,l._)("td",null,[(0,l._)("button",{onClick:i=>L.addToCart(t.id,t.title),class:"btn btn-primary px-lg-2 m-0",type:"button"}," 加入購物車 ",8,p)]),(0,l._)("td",null,[(0,l._)("button",{class:"btn btn-outline-success px-lg-2 m-0",onClick:i=>L.removeCollect(t.id,t.title),type:"btn"},v,8,g)])])))),128))])])])])):((0,l.wg)(),(0,l.iD)("div",_,[(0,l._)("div",b,[x,(0,l._)("div",null,[(0,l.Wm)(H,{class:"btn btn-outline-primary me-3",to:"/products"},{default:(0,l.w5)((()=>[w])),_:1})])])])),this.collectsList.length?((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",y,[(0,l.Wm)(H,{class:"btn btn-outline-primary me-3",to:"/products"},{default:(0,l.w5)((()=>[C])),_:1})])])):(0,l.kq)("",!0)])],64)}var D=e(1608),H=e(5679),j={data(){return{isLoading:!1,fullPage:!0,isLoadingLocal:!1,isLoadingItem:"",products:[],cartData:{carts:[]},collect:JSON.parse(localStorage.getItem("collect"))||[],collectsList:[]}},mixins:[D.Z],methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/david-frontend/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,console.log("get",t),this.getCart(),this.getCollects(),this.isLoading=!1}))},getCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.get(t).then((t=>{this.cartData=t.data.data,H.Z.emit("get-cart"),this.isLoading=!1}))},addToCart(t,i,e=1){const l={product_id:t,qty:e},s="https://vue3-course-api.hexschool.io/v2/api/david-frontend/cart";this.$http.post(s,{data:l}).then((t=>{console.log("購物車",t),this.getCart(),this.isLoadingItem=!1,this.alertAddToCart(i)}))},getCollects(){this.collectsList=this.products.filter((t=>this.collect.indexOf(t.id)>-1))},removeCollect(t,i){const e=this.collect.indexOf(t);-1!==e&&(this.collect.splice(e,1),localStorage.setItem("collect",JSON.stringify(this.collect)),this.getCollects(),this.alertRemoveCollect(i))},goCheckOut(){this.$router.push("/checkout")}},mounted(){this.getProducts()}},q=e(3744);const M=(0,q.Z)(j,[["render",L]]);var z=M}}]);
//# sourceMappingURL=952.1aaea9b1.js.map